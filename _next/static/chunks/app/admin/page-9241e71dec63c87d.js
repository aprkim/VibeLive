(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{6600:function(e,t,a){Promise.resolve().then(a.bind(a,6918))},6918:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var n=a(7437),s=a(2265),r=a(5475);function l(){var e;let t=null!==(e=(0,r.useSearchParams)().get("token"))&&void 0!==e?e:"",[a,l]=(0,s.useState)([]),[c,i]=(0,s.useState)(!0),[d,o]=(0,s.useState)(""),[x,m]=(0,s.useState)("pending"),[p,h]=(0,s.useState)(null),u=(0,s.useCallback)(async()=>{try{let e=await fetch("/api/showcase/admin?token=".concat(encodeURIComponent(t)));if(!e.ok){o("Not found");return}let a=await e.json();l(a)}catch(e){o("Failed to load")}finally{i(!1)}},[t]);async function b(e,a){h(e);try{(await fetch("/api/showcase/".concat(e,"?token=").concat(encodeURIComponent(t)),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:a})})).ok&&l(t=>t.map(t=>t.id===e?{...t,status:a}:t))}finally{h(null)}}async function f(e){if(confirm("Delete this item permanently?")){h(e);try{(await fetch("/api/showcase/".concat(e,"?token=").concat(encodeURIComponent(t)),{method:"DELETE"})).ok&&l(t=>t.filter(t=>t.id!==e))}finally{h(null)}}}if((0,s.useEffect)(()=>{if(!t){o("Not found"),i(!1);return}u()},[t,u]),d)return(0,n.jsx)("div",{className:"min-h-screen bg-[#060606] flex items-center justify-center",children:(0,n.jsx)("p",{className:"text-[#6b7280] text-sm",children:"Not found"})});if(c)return(0,n.jsx)("div",{className:"min-h-screen bg-[#060606] flex items-center justify-center",children:(0,n.jsx)("p",{className:"text-[#6b7280] text-sm",children:"Loading..."})});let g="all"===x?a:a.filter(e=>e.status===x),j={pending:a.filter(e=>"pending"===e.status).length,approved:a.filter(e=>"approved"===e.status).length,rejected:a.filter(e=>"rejected"===e.status).length,all:a.length},y=[{key:"pending",label:"Pending (".concat(j.pending,")")},{key:"approved",label:"Approved (".concat(j.approved,")")},{key:"rejected",label:"Rejected (".concat(j.rejected,")")},{key:"all",label:"All (".concat(j.all,")")}];return(0,n.jsx)("div",{className:"min-h-screen bg-[#060606] text-[#e5e7eb]",style:{colorScheme:"dark"},children:(0,n.jsxs)("div",{className:"max-w-[980px] mx-auto px-6 py-12",children:[(0,n.jsx)("h1",{className:"text-xl font-bold mb-1",children:"Showcase Admin"}),(0,n.jsx)("p",{className:"text-[13px] text-[#6b7280] mb-8",children:"Review and manage showcase submissions."}),(0,n.jsx)("div",{className:"flex gap-1 mb-6 border-b border-[#1a1a1a]",children:y.map(e=>(0,n.jsx)("button",{onClick:()=>m(e.key),className:"text-[13px] font-medium px-4 py-2.5 border-b-2 transition-colors ".concat(x===e.key?"border-[#0EA5A4] text-[#0EA5A4]":"border-transparent text-[#6b7280] hover:text-[#9ca3af]"),children:e.label},e.key))}),0===g.length?(0,n.jsx)("p",{className:"text-[#6b7280] text-sm py-12 text-center",children:"No items in this category."}):(0,n.jsx)("div",{className:"space-y-3",children:g.map(e=>(0,n.jsx)("div",{className:"rounded-xl border border-[#1a1a1a] bg-[#0a0a0a] p-5",children:(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4",children:[(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,n.jsx)("h3",{className:"text-[14px] font-semibold truncate",children:e.appName}),(0,n.jsx)("span",{className:"text-[10px] font-medium px-2 py-0.5 rounded-full ".concat("approved"===e.status?"bg-green-500/10 text-green-400":"rejected"===e.status?"bg-red-500/10 text-red-400":"bg-yellow-500/10 text-yellow-400"),children:e.status}),(0,n.jsx)("span",{className:"text-[10px] font-medium px-2 py-0.5 rounded-full bg-[#0EA5A4]/10 text-[#0EA5A4]",children:e.category})]}),(0,n.jsx)("p",{className:"text-[13px] text-[#9ca3af] mb-1",children:e.tagline}),e.problemSolved&&(0,n.jsx)("p",{className:"text-[12px] text-[#6b7280] mb-1",children:e.problemSolved}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-[11px] text-[#4b5563] mt-2",children:[e.builderName&&(0,n.jsxs)("span",{children:["Builder: ",e.builderName]}),e.demoUrl&&(0,n.jsx)("a",{href:e.demoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-[#0EA5A4] hover:underline",children:"Demo"}),e.screenshotUrl&&(0,n.jsx)("a",{href:e.screenshotUrl,target:"_blank",rel:"noopener noreferrer",className:"text-[#0EA5A4] hover:underline",children:"Screenshot"}),(0,n.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 shrink-0",children:["approved"!==e.status&&(0,n.jsx)("button",{onClick:()=>b(e.id,"approved"),disabled:p===e.id,className:"text-[12px] font-medium px-3 py-1.5 rounded-lg bg-green-500/10 text-green-400 hover:bg-green-500/20 transition-colors disabled:opacity-50",children:"Approve"}),"rejected"!==e.status&&(0,n.jsx)("button",{onClick:()=>b(e.id,"rejected"),disabled:p===e.id,className:"text-[12px] font-medium px-3 py-1.5 rounded-lg bg-red-500/10 text-red-400 hover:bg-red-500/20 transition-colors disabled:opacity-50",children:"Reject"}),(0,n.jsx)("button",{onClick:()=>f(e.id),disabled:p===e.id,className:"text-[12px] font-medium px-3 py-1.5 rounded-lg bg-[#1a1a1a] text-[#6b7280] hover:text-[#9ca3af] transition-colors disabled:opacity-50",children:"Delete"})]})]})},e.id))})]})})}function c(){return(0,n.jsx)(s.Suspense,{fallback:(0,n.jsx)("div",{className:"min-h-screen bg-[#060606] flex items-center justify-center",children:(0,n.jsx)("p",{className:"text-[#6b7280] text-sm",children:"Loading..."})}),children:(0,n.jsx)(l,{})})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=6600)}),_N_E=e.O()}]);